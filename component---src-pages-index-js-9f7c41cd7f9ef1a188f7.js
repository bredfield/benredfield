(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{Nr18:function(t,e,n){"use strict";var r=n("S/j/"),o=n("d/Gc"),i=n("ne8i");t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:o(c,n);l>s;)e[s++]=t;return e}},RXBc:function(t,e,n){"use strict";n.r(e);var r=n("o0o1"),o=n.n(r),i=(n("ls82"),n("q1tI")),a=n.n(i),s=n("vOnD"),c=n("Bl7J"),l=n("vrFN"),u=n("fnxb"),h=n.n(u),p="https://api.airvisual.com/v2/nearest_city?key=84a58c0a-f465-49d9-8b2b-bb4b0a413be4",f=864e5;function d(){var t,e;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(fetch(p));case 2:return t=n.sent,n.next=5,o.a.awrap(t.json());case 5:return e=n.sent,n.abrupt("return",e.data);case 7:case"end":return n.stop()}}))}function y(){var t,e,n,r,i,a;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=new Date,e=localStorage.getItem("airData"),n=JSON.parse(e),r=null,i=null,n&&(r=new Date(n.current.pollution.ts),i=t.getTime()-r.getTime()),e&&!(i&&i>f)){s.next=15;break}return console.log("Pulling new air data"),s.next=10,o.a.awrap(d());case 10:return a=s.sent,localStorage.setItem("airData",JSON.stringify(a)),s.abrupt("return",a);case 15:return s.next=17,o.a.awrap(JSON.parse(e));case 17:return s.abrupt("return",s.sent);case 18:case"end":return s.stop()}}))}n("rE2o"),n("ioFf"),n("rGqo"),n("bHtr");function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e,n){void 0===n&&(n=!1);var r=Math.random()*(t-e)+e;return Math.random()>.5||!n?r:-1*r}var v=function(){function t(t,e){this.x=g(0,t),this.y=g(0,e),this.cx=g(.1,.3,!0),this.cy=g(.1,.3,!0),this.w=Math.round(g(3,14)),this.h=Math.round(g(1,3)),this.r=0,this.cr=g(.3,.9,!0),this.opacity=g(.4,1),this.shadowBlur=Math.round(g(3,7))}var e=t.prototype;return e.getMidPoint=function(){return{x:this.x+this.w/2,y:this.y+this.h/2}},e.getFillStyle=function(){return"rgba(213,228,230,"+this.opacity+")"},e.move=function(t,e){(this.x>=t||this.x<0)&&(this.cx=-this.cx,this.cr=-this.cr),(this.y>=e||this.y<0)&&(this.cy=-this.cy,this.cr=-this.cr),this.x=this.x+this.cx,this.y=this.y+this.cy},e.rotate=function(){this.r+=this.cr*Math.PI/180},t}(),w=s.b.canvas.withConfig({displayName:"air__Canvas",componentId:"sc-1w0ogi8-0"})(["position:absolute;left:0;right:0;top:0;bottom:0;z-index:-1;"]),x=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).paint=n.paint.bind(m(n)),n.tick=n.tick.bind(m(n)),n.updateDimensionsAndPollutants=n.updateDimensionsAndPollutants.bind(m(n)),n.state={width:0,height:0,pollutants:[]},n._ctx=null,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.componentWillUnmount=function(){window.removeEventListener("resize",this.updateDimensionsAndPollutants)},o.componentDidMount=function(){window.addEventListener("resize",this.updateDimensionsAndPollutants),this.updateDimensionsAndPollutants(),requestAnimationFrame(this.tick)},o.componentDidUpdate=function(){this.updateDimensionsAndPollutants()},o.shouldComponentUpdate=function(t,e){return this.props.pollution!==t.pollution||this.state.width!==e.width||this.state.height!==e.height},o.updateDimensionsAndPollutants=function(){var t=window.innerWidth,e=window.innerHeight,n=this.props.pollution;if(n){var r=t*e,o=n.aqius/500,i=r/500,a=Math.max(Math.round(o*i*.1),1),s=new Array(a).fill(null).map((function(){return new v(t,e)}));this.setState({pollutants:s,width:t,height:e})}},o.tick=function(){var t=this.state,e=t.pollutants,n=t.width,r=t.height,o=e,i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var c=s;c.move(n,r),c.rotate()}this.paint(),requestAnimationFrame(this.tick)},o.paint=function(){var t=this.state,e=t.pollutants,n=t.width,r=t.height;this._ctx.clearRect(0,0,n,r);var o=e,i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var c=s;this._ctx.save(),this._ctx.fillStyle=c.getFillStyle();var l=c.getMidPoint();this._ctx.translate(l.x,l.y),this._ctx.rotate(c.r,c.x,c.y),this._ctx.shadowColor=c.getFillStyle(),this._ctx.shadowBlur=c.shadowBlur,this._ctx.fillRect(-c.w/2,-c.h/2,c.w,c.h),this._ctx.restore()}},o.render=function(){var t=this;return a.a.createElement(w,{ref:function(e){t._canvasNode=e,t._ctx=e?e.getContext("2d"):null},width:this.state.width,height:this.state.height})},r}(a.a.Component);n.d(e,"default",(function(){return D}));var b=s.b.div.withConfig({displayName:"pages__Container",componentId:"sc-19ofy1w-0"})(["margin:0px 80px;max-width:480px;padding-top:180px;@media (max-width:","px){margin:0 20px;max-width:auto;padding:40px 0;}"],c.b),E=s.b.h3.withConfig({displayName:"pages__Title",componentId:"sc-19ofy1w-1"})(["color:",";margin-bottom:30px;line-height:26px;"],c.a.grayLight),_=s.b.section.withConfig({displayName:"pages__Body",componentId:"sc-19ofy1w-2"})(["margin:40px 0;"]),k=s.b.div.withConfig({displayName:"pages__Job",componentId:"sc-19ofy1w-3"})(["margin-top:20px;"]),L=s.b.h4.withConfig({displayName:"pages__JobDate",componentId:"sc-19ofy1w-4"})(["color:",";font-weight:600;margin-bottom:6px;"],c.a.gray),S=s.b.p.withConfig({displayName:"pages__JobTitle",componentId:"sc-19ofy1w-5"})(["margin-top:0;margin-bottom:20px;"]),A=s.b.div.withConfig({displayName:"pages__AirInfo",componentId:"sc-19ofy1w-6"})(["position:absolute;bottom:0;width:100%;display:flex;flex-direction:column;align-items:center;@media (max-width:","px){display:none;}"],c.b),N=s.b.a.withConfig({displayName:"pages__AirTooltipPrompt",componentId:"sc-19ofy1w-7"})(["cursor:pointer;padding:20px;"]),P=s.b.div.withConfig({displayName:"pages__AirTooltip",componentId:"sc-19ofy1w-8"})(["background:",";max-width:480px;margin:0px 80px 20px 80px;"],c.a.greenDark),I=s.b.span.withConfig({displayName:"pages__AirData",componentId:"sc-19ofy1w-9"})(["font-weight:900;color:",";"],c.a.gray),C=s.b.a.withConfig({displayName:"pages__ContactButton",componentId:"sc-19ofy1w-10"})(["border:1px solid ",";display:inline-block;padding:10px 20px;width:140px;border-radius:4px;margin-top:40px;text-align:center;&:hover{background:",";color:",";}"],c.a.green,c.a.green,c.a.bg),D=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).state={pollution:null,showAirTooltip:!1},n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var t;return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(y());case 2:(t=e.sent).current&&this.setState({city:t.city,state:t.state,pollution:t.current.pollution});case 4:case"end":return e.stop()}}),null,this)},i.render=function(){var t,e=this,n=this.state,r=n.city,o=n.state,i=n.pollution,s=n.showAirTooltip;return a.a.createElement(c.c,null,a.a.createElement(l.a,{title:"Hi"}),a.a.createElement(b,null,a.a.createElement(E,null,"I'm Ben Redfield, a developer and product manager in Brooklyn, NY."),a.a.createElement(_,null,a.a.createElement("p",null,"I design and build digital products and love helping humans work well together.")),a.a.createElement(k,null,a.a.createElement(L,null,"Presently"),a.a.createElement(S,null,"Founder & Product Manager @ ",a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://density.io"},"Density"))),a.a.createElement(k,null,a.a.createElement(L,null,"Pastly"),a.a.createElement(S,null,"Partner & Developer @ ",a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://roundedco.com"},"Rounded"))),a.a.createElement(C,{href:"mailto:ben@benredfield.dev"},"Say hi")),a.a.createElement(x,{pollution:i}),a.a.createElement(A,null,s&&i?a.a.createElement(P,null,a.a.createElement("p",null,"Floating particles are rendered based on the air quality near you."),a.a.createElement("p",null,"The Air Quality Index in ",a.a.createElement(I,null,r,", ",o)," is ",a.a.createElement(I,null,i.aqius),", which is considered ",a.a.createElement(I,null,(t=i.aqius)>=0&&t<=50?"good":t>=51&&t<=100?"moderate":t>=101&&t<=150?"unhealthy for sensitive groups":t>=151&&t<=200?"unhealthy":t>=201&&t<=300?"very unhealthy":t>=301&&t<=500?"hazardous":"unreal"),"."),a.a.createElement("p",null,"Click for more info on the AQI.")):null,a.a.createElement(N,{onMouseEnter:function(){return e.setState({showAirTooltip:!0})},onMouseLeave:function(){return e.setState({showAirTooltip:!1})},href:"https://airnow.gov/index.cfm?action=aqibasics.aqi"},a.a.createElement(h.a,null))))},r}(a.a.Component)},bHtr:function(t,e,n){var r=n("XKFU");r(r.P,"Array",{fill:n("Nr18")}),n("nGyu")("fill")},fnxb:function(t,e,n){var r=n("q1tI");function o(t){return r.createElement("svg",t,[r.createElement("title",{key:0},"Artboard"),r.createElement("desc",{key:1},"Created with Sketch."),r.createElement("g",{id:"Artboard",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",key:2},r.createElement("g",{id:"Group"},[r.createElement("circle",{id:"Oval",stroke:"#D5E4E6",strokeWidth:"2",cx:"16",cy:"16",r:"15",key:0}),r.createElement("text",{id:"?",fontFamily:"SourceSansPro-Bold, Source Sans Pro",fontSize:"18",fontWeight:"bold",fill:"#D5E4E6",key:1},r.createElement("tspan",{x:"11.833",y:"23"},"?"))]))])}o.defaultProps={width:"32px",height:"32px",viewBox:"0 0 32 32",version:"1.1"},t.exports=o,o.default=o},ls82:function(t,e,n){n("rGqo"),n("yt8O"),n("a1Th"),n("h7Nl"),n("VRzm"),n("Btvt"),n("/SS/"),n("f3/d"),n("8+KV"),n("hHhE"),n("rE2o"),n("ioFf");var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),a=new A(r||[]);return i._invoke=function(t,e,n){var r=u;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?f:h,c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=c;var u="suspendedStart",h="suspendedYield",p="executing",f="completed",d={};function y(){}function m(){}function g(){}var v={};v[i]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(N([])));x&&x!==n&&r.call(x,i)&&(v=x);var b=g.prototype=y.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function _(t){var e;this._invoke=function(n,o){function i(){return new Promise((function(e,i){!function e(n,o,i,a){var s=l(t[n],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):Promise.resolve(u).then((function(t){c.value=t,i(c)}),(function(t){return e("throw",t,i,a)}))}a(s.arg)}(n,o,e,i)}))}return e=e?e.then(i,i):i()}}function k(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=l(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:e,done:!0}}return m.prototype=b.constructor=g,g.constructor=m,g[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(_.prototype),_.prototype[a]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,r,o){var i=new _(c(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(b),b[s]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},o0o1:function(t,e,n){t.exports=n("ls82")}}]);
//# sourceMappingURL=component---src-pages-index-js-9f7c41cd7f9ef1a188f7.js.map